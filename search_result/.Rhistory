fail = c(F, F, T)
)
info
match(grades,info)
match(grades,info$desc)
match(grades,info$grade)
info[match(grades,info$grade),]
str(airquality)
str(iris)
x<-"2011/11"
strsplit(x,"/")
unlist(strsplit(x,"/"))
y<-unlist(strsplit(x,"/"))
y
x<-"2011"
y<-unlist(strsplit(x,"/"))
y
x==y
x<-"2011/11"
y<-unlist(strsplit(x,"/"))
y
y[2]
paste("20",y[2],sep="")
if(y[2])
{}
getwd()
dir()
data<-read.csv("parsed_final.csv")
head(data)
View(data)
data$from_year
sapply(strsplit(data$from_year,"/"))
sapply(data$from_year,function(x){strsplit(x,"/"))
sapply(data$from_year,function(x){strsplit(x,"/")})
sapply(data$ons_code,function(x){strsplit(x,"/")})
data$from_year<-as.character(data$from_year)
str(data)
sapply(data$from_year,function(x){strsplit(x,"/")})
unlist(sapply(data$from_year,function(x){strsplit(x,"/")}))
x<-unlist(sapply(data$from_year,function(x){strsplit(x,"/")}))
length(x)
data$from_year<-as.numeric(as.character(data$from_year))
View(data)
source('C:/Users/shany_000/Desktop/Learning R/new1.r')
View(data)
View(data)
source('C:/Users/shany_000/Desktop/Learning R/new1.r')
str(data)
source('C:/Users/shany_000/Desktop/Learning R/new1.r')
source('C:/Users/shany_000/Desktop/Learning R/new1.r')
str(data)
names(data)
View(data)
data[1,1]
data<-data[,2:ncol(data)]
View(data)
source('C:/Users/shany_000/Desktop/Learning R/new1.r')
View(data)
source('C:/Users/shany_000/Desktop/Learning R/new1.r')
View(data)
source('C:/Users/shany_000/Desktop/Learning R/new1.r')
View(data)
source('C:/Users/shany_000/Desktop/Learning R/new1.r')
View(data)
class(data)
str(data)
source('C:/Users/shany_000/Desktop/Learning R/new1.r')
str(parsed_data)
source('C:/Users/shany_000/Desktop/Learning R/new1.r')
source('C:/Users/shany_000/Desktop/Learning R/new1.r')
str(parsed_data)
source('C:/Users/shany_000/Desktop/Learning R/new1.r')
View(data)
View(parsed_data)
str(parsed_data)
source('C:/Users/shany_000/Desktop/Learning R/new1.r')
str(parsed_data)
parsed_data$name
source('C:/Users/shany_000/Desktop/Learning R/new1.r')
parsed_data$name
str(parsed_data)
View(parsed_data)
source('C:/Users/shany_000/Desktop/Learning R/new1.r')
parsed_data[55]
parsed_data[55,]
parsed_data[55,7]
sapply(parsed_final$name,function(x){gsub(space,"",x)})
sapply(parsed_final$name,function(x){gsub(space(),"",x)})
install.packages("regex")
sapply(parsed_final$name,function(x){gsub(" ","",x)})
x<-"jhbjhb lnln        "
x
library(stringr)
str_trim(x)
sapply(parsed_final$name,function(x){str_trim(x)})
y<-sapply(parsed_final$name,function(x){str_trim(x)})
class(y)
y
y
names(y)
as.data.frame(y)
z<-as.data.frame(y)
z[1]
z[1,1]
as.character(z[1,1])
library(formatR)
tidy_source("data_clean.R")
getwd()
help.start()
apropos("foo")
apropos("mea")
vignette()
vignette("mean")
vignette("databases")
options()
history(#)
.libpaths()
.libPaths()
search()
install.packages()
lmfit <- lm(mpg~wt, data=mtcars)
class(lmfit)
lmfit
summary(lmfit)
plot(lmmfit)
plot(lmfit)
cooks.distance(lmfit)
mtcars
plot(mtcars$mpg,mtcars$cyl)
with(mtcars, {
summary(mpg, disp, wt)
plot(mpg, disp)
plot(mpg, wt)
})
summary(mpg, disp, wt)
with(mtcars, {
summary(mpg, disp, wt)
#plot(mpg, disp)
#plot(mpg, wt)
})
require(installr)
updateR()
q()
getwd()
dir()
source('C:/Users/shany_000/OneDrive/Documents/plot4.R')
NEI
table(SCC$SCC.Level.One)
temp<-SCC %<%
attach(SCC)
tmp<-SCC %<%
filter(SCC.Level.One=="External Combustion Boilers" | SCC.Level.One=="Internal Combustion Engines")
tmp<-SCC %>%
filter(SCC.Level.One=="External Combustion Boilers" | SCC.Level.One=="Internal Combustion Engines")
View(tmp)
subset(tmp,grepl("Combustion",SCC.Level.Three))
subset(tmp,grepl("I",SCC.Level.One))
subset(tmp,grepl("C",SCC.Level.One))
subset(tmp,grepl("Engines",SCC.Level.One))
subset(tmp,grepl("Engines",SCC.Level.Three))
subset(tmp,grepl("Combustion",SCC.Level.Three))
subset(tmp,grepl("Coal",SCC.Level.Three))
subset(tmp,grepl("Coal",SCC.Level.Three) | grepl("Coal",SCC.Level.Four))
x<-subset(tmp,grepl("Coal",SCC.Level.Three) | grepl("Coal",SCC.Level.Four))
View(x)
y<-head(SCC,500)
View(y)
yy<-table(SCC$SCC.Level.Two)
yy<-data.frame(table(SCC$SCC.Level.Two))
View(yy)
temp1<-subset(tmp,grepl("Coal",SCC.Level.Two))
temp1<-subset(SCC,grepl("Coal",SCC.Level.Two))
temp1<-subset(SCC,grepl("Coal",SCC.Level.Three))
temp1<-subset(SCC,grepl("Coal",SCC.Level.Four))
temp1<-subset(SCC,grepl("Coal",SCC.Level.Three))
temp1<-subset(SCC,grepl("Coal",SCC.Level.One))
temp1<-subset(SCC,grepl("Combustion",SCC.Level.One))
var<-c("car","Car")
grep("cat",var)
grep("car",var)
grep("car",var,ignore.case = T)
grepl("car",var)
grepl("car",var,ignore.case = T)
grepl("car|Car",var)
grepl("car",var)
grepl("[carCar]",var)
grepl("[carCa]",var)
grepl("(car)",var)
grepl("(Car)",var)
temp1<-subset(SCC,grepl("Combustion",SCC.Level.One))
temp1<-subset(SCC,grepl("Coal",SCC.Level.One))
temp1<-subset(SCC,grepl("Coal",SCC.Level.Two))
temp1<-subset(SCC,grepl("Combustion",SCC.Level.Two))
temp1<-subset(SCC,grepl("Combustion",SCC.Level.One))
temp1<-subset(SCC,grepl("Coal",SCC.Level.One))
temp1<-subset(SCC,grepl("Coal|Combustion",SCC.Level.One))
temp1<-subset(SCC,grepl("Coal|Combustion",SCC.Level.Two))
temp1<-subset(SCC,grepl("Coal|Combustion",SCC.Level.Three))
temp1<-subset(SCC,grepl("Coal|Combustion",SCC.Level.Four))
temp1<-subset(SCC,grepl("Coal|Combustion",SCC.Level.One)|grepl("Coal|Combustion",SCC.Level.Two)|grepl("Coal|Combustion",SCC.Level.Three)|grepl("Coal|Combustion",SCC.Level.Four))
View(temp1)
xx<-SCC %>%
filter(grepl("Coal|Combustion",SCC.Level.One))
xx<-SCC %>%
filter(grepl("Coal|Combustion",SCC.Level.One)|grepl("Coal|Combustion",SCC.Level.Two)|grepl("Coal|Combustion",SCC.Level.Three)|grepl("Coal|Combustion",SCC.Level.Four))
xx<-SCC %>%
select()
xx<-SCC %>%
select(Short.Name,SCC.Level.One,SCC.Level.Two,SCC.Level.Three,SCC.Level.Four) %>%
filter(grepl("Coal|Combustion",SCC.Level.One)|grepl("Coal|Combustion",SCC.Level.Two)|grepl("Coal|Combustion",SCC.Level.Three)|grepl("Coal|Combustion",SCC.Level.Four))
View(xx)
xx<-SCC %>%
select(Short.Name,SCC.Level.One,SCC.Level.Two,SCC.Level.Three,SCC.Level.Four) %>%
filter(grepl("Coal|Combustion",Short.Name))
View(temp1)
xx<-SCC %>%
select(Short.Name,SCC.Level.One,SCC.Level.Two,SCC.Level.Three,SCC.Level.Four) %>%
filter(grepl("Coal|Combustion",SCC.Level.Three)|grepl("Coal|Combustion",SCC.Level.Four))
View(xx)
xx<-SCC %>%
select(Short.Name,SCC.Level.One,SCC.Level.Two,SCC.Level.Three,SCC.Level.Four) %>%
filter(grepl("Coal|Combustion",SCC.Level.Three)|grepl("Coal",SCC.Level.Four))
View(xx)
xx<-SCC %>%
select(Short.Name,SCC.Level.One,SCC.Level.Two,SCC.Level.Three,SCC.Level.Four) %>%
filter(grepl("Combustion",SCC.Level.One) &(grepl("Coal",SCC.Level.Three)|grepl("Coal",SCC.Level.Four)|) )
filter(grepl("Combustion",SCC.Level.One) &(grepl("Coal",SCC.Level.Three)|grepl("Coal",SCC.Level.Four)) )
xx<-SCC %>%
select(Short.Name,SCC.Level.One,SCC.Level.Two,SCC.Level.Three,SCC.Level.Four) %>%
filter(grepl("Combustion",SCC.Level.One) &(grepl("Coal",SCC.Level.Three)|grepl("Coal",SCC.Level.Four)) )
View(xx)
table(xx$)
table(xx$SCC.Level.One)
xxx<-unique(xx$Short.Name)
source('C:/Users/shany_000/OneDrive/Documents/plot4.R')
View(temp)
bb<-semi_join(NEI,temp,by="SCC")
head(bb)
xx<-unique(bb$SCC)
scc==SCC
"scc"=="SCC"
cc<-right_join(NEI,temp,by="SCC")
xx<-unique(cc$SCC)
head(cc)
a<-head(cc,,100)
View(a)
a<-head(cc,100)
View(a)
b<-subset(NEI,SCC=="10100101",select = "Emissions")
View(b)
a<-cc[complete.cases(cc)]
a<-cc[complete.cases(cc),]
xx<-unique(a$SCC)
NEI<-cc
dataframe_total_emmsions <- NEI %>%
group_by(year) %>%
summarise(total_emissions=sum(Emissions))
dataframe_total_emmsions
dataframe_total_emmsions <- a %>%
group_by(year) %>%
summarise(total_emissions=sum(Emissions))
dataframe_total_emmsions
ggplot(dataframe_total_emmsions,aes(x=factor(year),y=total_emissions)) + geom_bar(stat="identity",fill="#56B4E9") +labs(x="Year",title="PM2.5 Emissions for coal combustion related sources in United States")
source('C:/Users/shany_000/OneDrive/Documents/plot4.R')
ggplot(dataframe_total_emmsions,aes(x=factor(year),y=total_emissions)) + geom_bar(stat="identity",fill="#56B4E9") +labs(x="Year",title="PM2.5 Emissions for coal combustion related sources in United States")
ggsave(file="plot4.png")
table(SCC$SCC.Level.One)
temp1<-subset(SCC,grepl("Transport",SCC.Level.One))
View(temp1)
table(SCC$SCC.Level.Two)
temp1<-subset(SCC,grepl("Combustion",SCC.Level.Wo))
temp1<-subset(SCC,grepl("Combustion",SCC.Level.TWo))
temp1<-subset(SCC,grepl("Combustion",SCC.Level.Two))
View(tmp)
View(temp1)
temp1<-subset(SCC,grepl("Transport",SCC.Level.Two))
View(temp1)
temp1<-subset(SCC,grepl("Vechile",SCC.Level.Two))
temp1<-subset(SCC,grepl("Vehicle",SCC.Level.Two))
View(temp1)
NEI<-right_join(NEI,temp1,by="SCC")
NEI <- readRDS("summarySCC_PM25.rds")
NEI<-right_join(NEI,temp1,by="SCC")
NEI <- readRDS("summarySCC_PM25.rds")
temp<-semi_join(NEI,temp1,by="SCC")
temp<-right_join(NEI,temp1,by="SCC")
head(temp)
temp<-temp[complete.cases(temp),]
View(temp)
temp<-right_join(NEI,temp1,by="SCC")
dataframe_total_emmsions <- temp %>%
filter(fips=="24510")
View(dataframe_total_emmsions)
dataframe_total_emmsions <- temp %>%
filter(fips=="24510") %>%
group_by(year) %>%
summarise(total_emissions=sum(Emissions))
View(dataframe_total_emmsions)
dataframe_total_emmsions <- temp %>%
+     filter(fips=="24510")
dataframe_total_emmsions <- temp %>%
filter(fips=="24510")
dataframe_total_emmsions <- temp %>%
filter(fips=="24510") %>%
group_by(year) %>%
summarise(total_emissions=sum(Emissions))
ggplot(dataframe_total_emmsions,aes(x=factor(year),y=total_emissions)) + geom_bar(stat="identity",fill="#56B4E9") +labs(x="Year",title="PM2.5 Emissions for motor vechicles in Baltimore")
ggsave(file="plot5.png")
getwd()
setwd("C:/Users/shany_000/Downloads/")
dir()
setwd("./search_result/")
dir()
source('C:/Users/shany_000/Downloads/xmlparse2.R')
xmltop
getNodeSet(xmltop,"//primary_outcome")
node<-getNodeSet(xmltop,"//primary_outcome")
node[1]
node[[1]]
xmlName(node[[1]])
xmlValue(node[[1]])
node[[1]]
getNodeSet(xmltop,"//primary_outcome/measure")
getNodeSet(xmltop,"//primary_outcome/")
getNodeSet(xmltop,"//primary_outcome")
node<-getNodeSet(xmltop,"//primary_outcome")
node[1]
node[2]
node[[1]]
class(node[[1]])
sub_node<-node[[1]]
sub_node
class(sub_node)
sub_node[1]
xmlName(sub_node[1])
xmlName(sub_node[[1]])
xmlValue(sub_node[[1]])
xmlNodes
x<-c("a","b")
if("a"in x){print"yes"}
if("a"in x)
if("a"in x):
if("a" in  x)
'a'%in% x
sub_node
getNodeSet(sub_node,"/measure"
)
getNodeSet(sub_node,"//measure")
node
node[[1]]
node[]
node[2]
length(node)
getNodeSet(sub_node,"//measure")
list(a=c("1","2"))
x<-list(a=c("1","2"))
names(x)
'class(names(x))
)
class(names(x))
outcome_struct<-c("measure","time_frame","safety_issue","description")
other_tables<-list(primary_outcome=outcome_struct)
other_tables
names(other_tables)
other_tables[1]
other_tables[1][1]
other_tables[[1]
]
other_tables[[1]][1]
other_tables$primary_outcome
node<-"measure"
node
other_table[node]
other_table$node
other_tables$node
other_tables[node]
other_tables["primary_outcome"]
other_tables[node]
node
node<-primary_outcome
node<-"primary_outcome"
other_tables[node]
x<-other_tables[node]
x[1]
x[[1]]
x<-other_tables[[node]
]
other_tables[[node]]
sub_node
subnode<-getNodeSet(xmltop,"//primary_outcome")
sunnode
subnode
length(sub_node
)
subnode[[1]]
subnode[[2]]
subnode[1]
subnode[2]
subnode<-getNodeSet(xmltop,"//primary_outcome")
subnode
length(subnode)
colNames<-other_tables[[node]]
colNames
class(subnode)
class(subnode[[1]])
colNames
sapply(colNames,function(name) { paste("//",nanme,sep="") })
sapply(colNames,function(name) { paste("//",name,sep="") })
xmlSubNodes<-other_tables[[node]]
xmlSubNodes
for (node in xmlSubNodes)
print(node)
subnode
for (node in subnode)
print(node)
for (node in other_tables)
print(node)
other_tables<-list(primary_outcome=outcome_struct,secondary_outcome=outcome_struct)
other_tables
for (node in other_tables)
other_tables
for (node in other_tables)
print(node)
for (node in other_tables)
print(name(node))
sub_node
xmlSubNodes
for (node in xmlSubNodes){
nodeName<-node
nodeAddress<-paste("//",node,sep="")
node<-getNodeSet(sub_node,nodeAddress)
create_cell(nodeName,node)
}
node
node<-"1"
node<-"a"
assign(a,data.frame(b=1))
assign("a",data.frame(b=1))
a
class(z)
class(a)
other_tables
other_tables[[1]]
substitute(other_tables[[1]])
substitute(eval(other_tables[[1]]))
eval(parse(text = "x"))
x
parse(text="x")
x=2
b<-"x"
parse(text=b)
eval(parse(text=b))
?parse
nct_id
measure
v<-c("nct_id","measure")
parse(text=v)
eval(parse(text=v))
data.frame(eval(parse(text=v)))
eval(parse(text=v[1]))
data.frame(eval(parse(text=v[1])),eval(parse(text=v[2])))
x<-data.frame(eval(parse(text=v[1])),eval(parse(text=v[2])))
x
View(x)
data.frame()
View(x)x
x
names(x)<-v
View(x)
sapply(v,function(x),eval(parse(text=x)))
sapply(v,function(x)eval(parse(text=x)))
data.frame(sapply(v,function(x)eval(parse(text=x))))
x<-data.frame(sapply(v,function(x)eval(parse(text=x))))
x
View(x)
x''
t(x)
a<-t(x)
View(a)
x<-sapply(v,function(x)eval(parse(text=x)))
x
as.data.frame(x)
a<-as.data.frame(x)
View(a)
t(a)
a<-t(a)
View(a)
x<-sapply(v,function(x)eval(parse(text=x)))
x
class(z)
class(a)
as.data.frame(a)
data.frame(as.list(x))
x<-data.frame(as.list(x))
View(x)
class(x)
str(x)
x<-sapply(v,function(x)eval(parse(text=x)))
a<-data.frame(lapply(x, type.convert), stringsAsFactors=FALSE)
View(a)
str(a)
source('C:/Users/shany_000/Downloads/xmlparse2.R')
rm(list=ls())
source('C:/Users/shany_000/Downloads/xmlparse2.R')
source('C:/Users/shany_000/Downloads/xmlparse2.R')
debugSource('C:/Users/shany_000/Downloads/xmlparse2.R')
rm(list=ls())
debugSource('C:/Users/shany_000/Downloads/xmlparse2.R')
View(primary_outcome)
rm(list=ls())
source('C:/Users/shany_000/Downloads/xmlparse2.R')
source('C:/Users/shany_000/Downloads/xmlparse2.R')
